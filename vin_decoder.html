<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>현대/기아 차대 번호(VIN) 해석기</title>
<style>
  :root {
    --radius: 12px;
  }
  body {
    font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans KR','Apple SD Gothic Neo','Malgun Gothic',Arial,sans-serif;
    margin: 32px;
    line-height: 1.6;
    color: #111;
  }
  h1 {
    font-size: 28px;
    margin: 0 0 8px 0;
  }
  p.desc {
    margin: 0 0 20px 0;
    color: #444;
  }
  .field {
    display: flex; 
    gap: 12px; 
    align-items: stretch;
    max-width: 640px;
  }
  input[type=text] {
    flex: 1;
    padding: 14px 16px;
    font-size: 18px;
    border: 1px solid #d0d0d0;
    border-radius: var(--radius);
    outline: none;
  }
  input[type=text]:focus {
    border-color: #6aa9ff;
    box-shadow: 0 0 0 4px rgba(106,169,255,.15);
  }
  button {
    padding: 12px 18px;
    font-size: 16px;
    border: 1px solid #d0d0d0;
    border-radius: var(--radius);
    background: #fafafa;
    cursor: pointer;
  }
  button:hover {
    background: #f1f5ff;
    border-color: #6aa9ff;
  }
  .result {
    margin-top: 20px;
    max-width: 840px;
    border: 1px solid #eee;
    border-radius: var(--radius);
    padding: 16px;
    background: #fbfbfb;
    min-height: 56px;
  }
  .grid {
    display: grid;
    grid-template-columns: 160px 1fr;
    gap: 8px 16px;
  }
  .key {
    color: #666;
  }
  .muted {
    color: #666;
    font-size: 14px;
  }
  .hint {
    margin-top: 10px;
    color: #666;
    font-size: 13px;
  }
  .small {
    font-size: 12px;
  }
  .badge {
    display:inline-block;
    padding:2px 8px;
    border-radius:999px;
    background:#eef2ff;
    border:1px solid #dfe6ff;
    font-size:12px;
    color:#2744ff;
  }
</style>
</head>
<body>
  <h1>현대/기아 차대 번호(VIN) 해석기</h1>
  <p class="desc">17자리 VIN을 입력하세요.</p>

  <div class="field">
    <input id="vin" type="text" placeholder="예: KMHGN81EMMU123456" maxlength="17" value="KNACE81CGMA453417"/>
    <button id="btn">해석하기</button>
  </div>

  <div class="result" id="result"></div>

  <p class="hint">* 규칙: <span class="badge">매칭 키</span>는 VIN 1–4자리 + 6–9자리(5번째 문자는 제외)로 생성됩니다.</p>

<script>
  const TABLE = {"KMHL41FB": {"model": "아반떼 CN7 (21-25)", "engine": "CN7 G 1.6 T-GDI", "trans": "AT"}, "KMHL41EE": {"model": "아반떼 CN7 (21-25)", "engine": "CN7 G 1.6 MPI", "trans": "CVT"}, "KMHL41AB": {"model": "아반떼 CN7 (21-25)", "engine": "CN7 L 1.6 LPI", "trans": "AT"}, "KMHL41JG": {"model": "아반떼 CN7 (21-25)", "engine": "CN7 HEV 1.6 GDI", "trans": "DCT"}, "KMHL41KG": {"model": "아반떼 CN7 N (22-25)", "engine": "CN7 N G 2.0 T-GDI", "trans": "DCT"}, "KMHL41KA": {"model": "아반떼 CN7 N (22-25)", "engine": "CN7 N G 2.0 T-GDI", "trans": "DCT"}, "KMHN411B": {"model": "그랜저 GN7 HEV (23-25)", "engine": "GN7 HEV 1.6 T-GDI", "trans": "AT"}, "KMHN41DB": {"model": "그랜저 GN7 (23-26)", "engine": "GN7 G 2.5 GDI", "trans": "AT"}, "KMHN41EB": {"model": "그랜저 GN7 (23-26)", "engine": "GN7 G 3.5 GDI 2WD", "trans": "AT"}, "KMHN41ED": {"model": "그랜저 GN7 (23-26)", "engine": "GN7 G 3.5 GDI AWD", "trans": "AT+Transfer"}, "KMHN41FB": {"model": "그랜저 GN7 (23-26)", "engine": "GN7 L 3.5 LPI", "trans": "AT"}, "KMHF41RB": {"model": "그랜저 IG (17-19)", "engine": "IG D 2.2 TCI", "trans": "AT"}, "KMHF41CB": {"model": "그랜저 IG (17-19)", "engine": "IG G 2.4 GDI", "trans": "AT"}, "KMHF41EB": {"model": "그랜저 IG (17-19)", "engine": "IG G 3.0 GDI", "trans": "AT"}, "KMHF41DB": {"model": "그랜저 IG (20-23)", "engine": "IG G 2.5 GDI", "trans": "AT"}, "KMHF41GB": {"model": "그랜저 IG (17-23)", "engine": "IG G 3.3 GDI", "trans": "AT"}, "KMHF41NB": {"model": "그랜저 IG (17-23)", "engine": "IG L 3.0 LPI", "trans": "AT"}, "KMHF413B": {"model": "그랜저 IG (18-23)", "engine": "IG HEV 2.4 MPI", "trans": "AT"}, "KMHL412B": {"model": "소나타 DN8 (20-25)", "engine": "DN8 G 1.6 T-GDI", "trans": "AT"}, "KMHL41CG": {"model": "소나타 DN8 (20-25)", "engine": "DN8 G 2.5 T-GDI", "trans": "DCT"}, "KMHL41EB": {"model": "소나타 DN8 (20-25)", "engine": "DN8 G 2.0 MPI", "trans": "AT"}, "KMHL41DB": {"model": "소나타 DN8 (20-25)", "engine": "DN8 L 2.0 LPI", "trans": "AT"}, "KMHL41JB": {"model": "소나타 DN8 (20-25)", "engine": "DN8 HEV 2.0 GDI", "trans": "AT"}, "KMJY371B": {"model": "스타리아 US4 (22-25)", "engine": "US4 D 2.2 TCI 3, 4, 11, 14인승, 구급차", "trans": "AT"}, "KMJY371D": {"model": "스타리아 US4 (22-25)", "engine": "US4 D 2.2 TCI AWD 3, 4, 11인승", "trans": "AT+Transfer"}, "KMHY811B": {"model": "스타리아 US4 (22-25)", "engine": "US4 D 2.2 TCI 7, 9인승", "trans": "AT"}, "KMHY811D": {"model": "스타리아 US4 (22-25)", "engine": "US4 D 2.2 TCI AWD 7, 9인승", "trans": "AT+Transfer"}, "KMFYX71B": {"model": "스타리아 US4 (22-25)", "engine": "US4 D 2.2 TCI 카고 3, 5인승", "trans": "AT"}, "KMJY373B": {"model": "스타리아 US4 (22-25)", "engine": "US4 L 3.5 LPI 11, 15인승", "trans": "AT"}, "KMHY813B": {"model": "스타리아 US4 (22-25)", "engine": "US4 L 3.5 LPI 7, 9인승", "trans": "AT"}, "KMFYX73B": {"model": "스타리아 US4 (22-25)", "engine": "US4 L 3.5 LPI 카고 3, 5인승", "trans": "AT"}, "KMJY37AB": {"model": "스타리아 US4 HEV 2025", "engine": "US4 HEV 1.6 T-GDI 11인승", "trans": "AT"}, "KMHY81AB": {"model": "스타리아 US4 HEV 2025", "engine": "US4 HEV 1.6 T-GDI 7, 9인승", "trans": "AT"}, "KMFYX7AB": {"model": "스타리아 US4 HEV 2025", "engine": "US4 HEV 1.6 T-GDI 카고 3, 5인승", "trans": "AT"}, "KMHR811B": {"model": "팰리세이드 LX3 2025", "engine": "LX3 G 2.5 T-GDI 2WD", "trans": "AT"}, "KMHR811D": {"model": "팰리세이드 LX3 2025", "engine": "LX3 G 2.5 T-GDI 4WD", "trans": "AT+Transfer"}, "KMHR81AB": {"model": "팰리세이드 LX2 (19-24)", "engine": "LX2 D 2.2 TCI-R 2WD", "trans": "AT"}, "KMHR81AD": {"model": "팰리세이드 LX2 (19-24)", "engine": "LX2 D 2.2 TCI-R 4WD", "trans": "AT+Transfer"}, "KMHR81EB": {"model": "팰리세이드 LX2 (19-24)", "engine": "LX2 G 3.8 GDI 2WD", "trans": "AT"}, "KMHR81ED": {"model": "팰리세이드 LX2 (19-24)", "engine": "LX2 G 3.8 GDI 4WD", "trans": "AT+Transfer"}, "KMHJ81BG": {"model": "투싼 NX4 (21-25)", "engine": "NX4 G 1.6 T-GDI 2WD", "trans": "DCT"}, "KMHJ81BH": {"model": "투싼 NX4 (21-25)", "engine": "NX4 G 1.6 T-GDI 4WD", "trans": "DCT+Transfer"}, "KMHJ81CB": {"model": "투싼 NX4 (21-25)", "engine": "NX4 D 2.0 TCI 2WD", "trans": "AT"}, "KMHJ81CD": {"model": "투싼 NX4 (21-25)", "engine": "NX4 D 2.0 TCI 4WD", "trans": "AT+Transfer"}, "KMHJ811B": {"model": "투싼 NX4 HEV (21-24)", "engine": "NX4 HEV 1.6 T-GDI 2WD", "trans": "AT"}, "KMHJ811D": {"model": "투싼 NX4 HEV (21-24)", "engine": "NX4 HEV 1.6 T-GDI 4WD", "trans": "AT+Transfer"}, "KMHH813B": {"model": "코나 SX2 (23-25)", "engine": "SX2 G 1.6 T-GDI 2WD", "trans": "AT"}, "KMHH813D": {"model": "코나 SX2 (23-25)", "engine": "SX2 G 1.6 T-GDI 4WD", "trans": "AT+Transfer"}, "KMHH81BE": {"model": "코나 SX2 (23-25)", "engine": "SX2 G 2.0 MPI 2WD", "trans": "CVT"}, "KMHH811G": {"model": "코나 SX2 (23-25)", "engine": "SX2 HEV 1.6 GDI", "trans": "DCT"}, "KMHH816F": {"model": "코나 SX2 EV (24-25)", "engine": "SX2 EV 150kW", "trans": "감속기"}, "KMHH817F": {"model": "코나 SX2 EV (24-25)", "engine": "SX2 EV 99kW", "trans": "감속기"}, "KMHK815G": {"model": "코나 OS (18-20)", "engine": "OS G  1.6 T-GDI 2WD", "trans": "DCT"}, "KMHK815H": {"model": "코나 OS (18-20)", "engine": "OS G  1.6 T-GDI 4WD", "trans": "DCT+Transfer"}, "KMHK816G": {"model": "코나 OS (18-20)", "engine": "OS D 1.6 TCI 2WD", "trans": "DCT"}, "KMHK816H": {"model": "코나 OS (18-20)", "engine": "OS D 1.6 TCI 4WD", "trans": "DCT+Transfer"}, "KMHK817G": {"model": "코나 OS (18-20)", "engine": "OS D 1.6 TCI NEW 2WD", "trans": "DCT"}, "KMHK817H": {"model": "코나 OS (18-20)", "engine": "OS D 1.6 TCI NEW 4WD", "trans": "DCT+Transfer"}, "KMHK813G": {"model": "코나 OS (21-23)", "engine": "OS G 1.6 T-GDI 2WD", "trans": "DCT"}, "KMHK813H": {"model": "코나 OS (21-23)", "engine": "OS G 1.6 T-GDI 4WD", "trans": "DCT+Transfer"}, "KMHK81BE": {"model": "코나 OS (21-23)", "engine": "OS G 2.0 MPI 2WD", "trans": "IVT"}, "KMHK81EG": {"model": "코나 OS HEV (20-23)", "engine": "OS HEV 1.6 GDI", "trans": "DCT"}, "KMHK81GF": {"model": "코나 OS EV (19-21)", "engine": "OS EV 150kW", "trans": "감속기"}, "KMHK81CG": {"model": "코나 OS N 2022", "engine": "OS N G 2.0 T-GDI", "trans": "DCT"}, "KMHP81LG": {"model": "싼타페 MX5 2024", "engine": "MX5 G 2.5 T-GDI 2WD", "trans": "DCT"}, "KMHP81LH": {"model": "싼타페 MX5 2024", "engine": "MX5 G 2.5 T-GDI 4WD", "trans": "DCT+Transfer"}, "KMHP811B": {"model": "싼타페 MX5 2024", "engine": "MX5 HEV 1.6 T-GDI 2WD", "trans": "AT"}, "KMHP811D": {"model": "싼타페 MX5 2024", "engine": "MX5 HEV 1.6 T-GDI 4WD", "trans": "AT+Transfer"}, "KMHS81AB": {"model": "싼타페 TM (19-20)", "engine": "TM G 2.0 T-GDI 2WD", "trans": "AT"}, "KMHS81AD": {"model": "싼타페 TM (19-20)", "engine": "TM G 2.0 T-GDI 4WD", "trans": "AT+Transfer"}, "KMHS81BB": {"model": "싼타페 TM (19-20)", "engine": "TM D 2.0 TCI 2WD", "trans": "AT"}, "KMHS81BD": {"model": "싼타페 TM (19-20)", "engine": "TM D 2.0 TCI 4WD", "trans": "AT+Transfer"}, "KMHS81CB": {"model": "싼타페 TM (19-20)", "engine": "TM D 2.2 TCI 2WD", "trans": "AT"}, "KMHS81CD": {"model": "싼타페 TM (19-20)", "engine": "TM D 2.2 TCI 4WD", "trans": "AT+Transfer"}, "KMHS81LG": {"model": "싼타페 TM (21-23)", "engine": "TM G 2.5 T-GDI 2WD", "trans": "DCT"}, "KMHS81LH": {"model": "싼타페 TM (21-23)", "engine": "TM G 2.5 T-GDI 4WD", "trans": "DCT+Transfer"}, "KMHS81HG": {"model": "싼타페 TM (21-23)", "engine": "TM D 2.2 TCI 2WD", "trans": "DCT"}, "KMHS81HH": {"model": "싼타페 TM (21-23)", "engine": "TM D 2.2 TCI 4WD", "trans": "DCT+Transfer"}, "KMHS811B": {"model": "싼타페 TM HEV (22-23)", "engine": "TM HEV 1.6 T-GDI 2WD", "trans": "AT"}, "KMHS811D": {"model": "싼타페 TM HEV (22-23)", "engine": "TM HEV 1.6 T-GDI 4WD", "trans": "AT+Transfer"}, "KMHR813E": {"model": "베뉴 QX (20-23)", "engine": "QX G 1.6 MPI", "trans": "CVT"}, "KMHB516B": {"model": "캐스퍼 AX1 (22-25)", "engine": "AX1 G 1.0 T-GDI", "trans": "AT"}, "KMHB916B": {"model": "캐스퍼 AX1 (22-25)", "engine": "AX1 G 1.0 T-GDI VAN", "trans": "AT"}, "KMHB518B": {"model": "캐스퍼 AX1 (22-25)", "engine": "AX1 G 1.0 MPI", "trans": "AT"}, "KMHB918B": {"model": "캐스퍼 AX1 (22-25)", "engine": "AX1 G 1.0 MPI VAN", "trans": "AT"}, "KMHB511F": {"model": "캐스퍼 AX1 EV 2025", "engine": "AX1 EV 80kW 310V", "trans": "감속기"}, "KMHB512F": {"model": "캐스퍼 AX1 EV 2025", "engine": "AX1 EV 80kW 266V", "trans": "감속기"}, "KMHK81BF": {"model": "아이오닉5 NE EV (22-25)", "engine": "NE EV 160kW", "trans": "감속기"}, "KMHK81AF": {"model": "아이오닉5 NE EV (22-25)", "engine": "NE EV 160kW 롱레인지", "trans": "감속기"}, "KMHK81CP": {"model": "아이오닉5 NE EV (22-25)", "engine": "NE EV 70+160kW 롱레인지", "trans": "감속기"}, "KMHK818P": {"model": "아이오닉5 NE EV N (24-25)", "engine": "NE EV N 160+270kW", "trans": "감속기"}, "KMHM41BF": {"model": "아이오닉6 CE EV (23-26)", "engine": "CE EV 160kW", "trans": "감속기"}, "KMHM41AF": {"model": "아이오닉6 CE EV (23-26)", "engine": "CE EV 160kW 롱레인지", "trans": "감속기"}, "KMHM41CP": {"model": "아이오닉6 CE EV (23-26)", "engine": "CE EV 70+160kW 롱레인지", "trans": "감속기"}, "KMHM811F": {"model": "아이오닉9 ME EV 2025", "engine": "ME EV 160kW", "trans": "감속기"}, "KMHM815P": {"model": "아이오닉9 ME EV 2025", "engine": "ME EV 160+160kW", "trans": "감속기"}, "KMTG41CB": {"model": "G80 RG3 (20-25)", "engine": "RG3 G 2.5 T-GDI 2WD", "trans": "AT"}, "KMTG41CD": {"model": "G80 RG3 (20-25)", "engine": "RG3 G 2.5 T-GDI AWD", "trans": "AT+Transfer"}, "KMTGG1CB": {"model": "G70 IK (24-26)", "engine": "IK G 2.5 T-GDI 슈팅브레이크", "trans": "AT"}, "KMTGG1CD": {"model": "G70 IK (24-26)", "engine": "IK G 2.5 T-GDI 슈팅브레이크 AWD", "trans": "AT+Transfer"}, "KMTG41EB": {"model": "G70 IK (24-26)", "engine": "IK G 3.3 T-GDI", "trans": "AT"}, "KMTG41ED": {"model": "G70 IK (24-26)", "engine": "IK G 3.3 T-GDI AWD", "trans": "AT+Transfer"}, "KMTG41DB": {"model": "G80 RG3 (20-25)", "engine": "RG3 G 3.5 T-GDI 2WD", "trans": "AT"}, "KMTG41DD": {"model": "G80 RG3 (20-25)", "engine": "RG3 G 3.5 T-GDI 4WD", "trans": "AT+Transfer"}, "KMTG41BB": {"model": "G80 RG3 (20-25)", "engine": "RG3 D 2.2 TCI 2WD", "trans": "AT"}, "KMTG41BD": {"model": "G80 RG3 (20-25)", "engine": "RG3 D 2.2 TCI 4WD", "trans": "AT+Transfer"}, "KMTG411P": {"model": "G80 RG3 EV (22-25)", "engine": "RG3 EV 136+136kW", "trans": "감속기"}, "KMTF41DB": {"model": "G90 RS4 (22-25)", "engine": "RS4 G 3.5 T-GDI", "trans": "AT"}, "KMTF41DD": {"model": "G90 RS4 (22-25)", "engine": "RS4 G 3.5 T-GDI (E-SC) AWD", "trans": "AT+Transfer"}, "KMTF11DD": {"model": "G90 RS4 (22-25)", "engine": "RS4 G 3.5 T-GDI (E-SC) AWD LWB", "trans": "AT+Transfer"}, "KMTK81BP": {"model": "GV60 JW1 EV (22-26)", "engine": "JW1 EV 160+160kW", "trans": "감속기"}, "KMTK81AF": {"model": "GV60 JW1 EV (22-26)", "engine": "JW1 EV 168kW", "trans": "감속기"}, "KMTK81CP": {"model": "GV60 JW1 EV (22-26)", "engine": "JW1 EV 74+160kW", "trans": "감속기"}, "KMTM81BB": {"model": "GV70 JK1 (21-25)", "engine": "JK1 G 2.5 T-GDI 2WD", "trans": "AT"}, "KMTM81BD": {"model": "GV70 JK1 (21-25)", "engine": "JK1 G 2.5 T-GDI 4WD", "trans": "AT+Transfer"}, "KMTM81CB": {"model": "GV70 JK1 (21-25)", "engine": "JK1 G 3.5 T-GDI 2WD", "trans": "AT"}, "KMTM81CD": {"model": "GV70 JK1 (21-25)", "engine": "JK1 G 3.5 T-GDI 4WD", "trans": "AT+Transfer"}, "KMTM81AB": {"model": "GV70 JK1 (21-25)", "engine": "JK1 D 2.2 TCI 2WD", "trans": "AT"}, "KMTM81AD": {"model": "GV70 JK1 (21-25)", "engine": "JK1 D 2.2 TCI 4WD", "trans": "AT+Transfer"}, "KMTM811P": {"model": "GV70 JK1 (21-25)", "engine": "JK1 EV 160+160kW", "trans": ""}, "KMTH81BB": {"model": "GV80 JX1 (20-24)", "engine": "JX1 G 2.5 T-GDI 2WD", "trans": "AT"}, "KMTH81BD": {"model": "GV80 JX1 (20-24)", "engine": "JX1 G 2.5 T-GDI AWD", "trans": "AT+Transfer"}, "KMTH81CB": {"model": "GV80 JX1 (20-24)", "engine": "JX1 G 3.5 T-GDI 2WD", "trans": "AT"}, "KMTH81CD": {"model": "GV80 JX1 (20-24)", "engine": "JX1 G 3.5 T-GDI AWD", "trans": "AT+Transfer"}, "KMTH81DB": {"model": "GV80 JX1 (20-24)", "engine": "JX1 D 3.0 TCI 2WD", "trans": "AT"}, "KMTH81DD": {"model": "GV80 JX1 (20-24)", "engine": "JX1 D 3.0 TCI AWD", "trans": "AT+Transfer"}, "KNAF517G": {"model": "K3 BD (19-24)", "engine": "BD G 1.6 T-GDI", "trans": "DCT"}, "KNAF41BE": {"model": "K3 BD (19-24)", "engine": "BD G 1.6 MPI", "trans": "IVT"}, "KNAG412B": {"model": "K5 DL3 (20-26)", "engine": "DL3 G 1.6 T-GDI", "trans": "AT"}, "KNAG41AB": {"model": "K5 DL3 (20-26)", "engine": "DL3 G 2.0 CVVL", "trans": "AT"}, "KNAG41BB": {"model": "K5 DL3 (20-26)", "engine": "DL3 L 2.0 LPI", "trans": "AT"}, "KNAG41JB": {"model": "K5 DL3 (20-26)", "engine": "DL3 HEV 2.0 NU GDI", "trans": "AT"}, "KNAM41BB": {"model": "K8 GL3 (22-26)", "engine": "GL3 G 2.5 GDI", "trans": "AT"}, "KNAM41DB": {"model": "K8 GL3 (22-26)", "engine": "GL3 G 3.5 GDI 2WD", "trans": "AT"}, "KNAM41DD": {"model": "K8 GL3 (22-26)", "engine": "GL3 G 3.5 GDI AWD", "trans": "AT+Transfer"}, "KNAM41FB": {"model": "K8 GL3 (22-26)", "engine": "GL3 L 3.5 LPI", "trans": "AT"}, "KNAM411B": {"model": "K8 GL3 (22-26)", "engine": "GL3 HEV 1.6 T-GDI", "trans": "AT"}, "KNAC81EG": {"model": "니로 SG2 HEV (22-26)", "engine": "SG2 HEV 1.6 GDI", "trans": "DCT"}, "KNAC811F": {"model": "니로 SG2 EV (23-26)", "engine": "SG2 EV 150kW", "trans": "감속기"}, "KNAA81GF": {"model": "니로 Plus DE EV PBV (23-24)", "engine": "DE EV PBV 150kW", "trans": "감속기"}, "KNAC81GF": {"model": "니로 DE EV (19-22)", "engine": "DE EV 150kW", "trans": "감속기"}, "KNAC81HF": {"model": "니로 DE EV (19-22)", "engine": "DE EV 100kW", "trans": "감속기"}, "KNAC81CG": {"model": "니로 DE HEV (17-22)", "engine": "DE HEV 1.6 GDI", "trans": "DCT"}, "KNAC81DG": {"model": "니로 DE PHEV (18-22)", "engine": "DE PHEV 1.6 GDI", "trans": "DCT"}, "KNAC811B": {"model": "레이 TAM (20-25)", "engine": "TAM G 1.0 MPI", "trans": "AT"}, "KNAC911B": {"model": "레이 TAM (20-25)", "engine": "TAM G 1.0 MPI VAN", "trans": "AT"}, "KNAC81AF": {"model": "EV6 CV (22-26)", "engine": "CV EV 160kW 2WD 롱레인지", "trans": "감속기"}, "KNAC91AF": {"model": "레이 TAM EV (24-25)", "engine": "TAM EV 64kW VAN", "trans": "감속기"}, "KNAB518B": {"model": "모닝 JA (21-26)", "engine": "JA G 1.0 MPI", "trans": "AT"}, "KNAB918B": {"model": "모닝 JA (21-26)", "engine": "JA G 1.0 MPI VAN", "trans": "AT"}, "KNAK814B": {"model": "모하비 HM (12-24)", "engine": "HM D 3.0 TCI 2WD", "trans": "AT"}, "KNAK814D": {"model": "모하비 HM (12-24)", "engine": "HM D 3.0 TCI 4WD", "trans": "AT+Transfer"}, "KNAE812G": {"model": "셀토스 SP2 (20-22)", "engine": "SP2 G 1.6 T-GDI 2WD", "trans": "DCT"}, "KNAE812H": {"model": "셀토스 SP2 (20-22)", "engine": "SP2 G 1.6 T-GDI 4WD", "trans": "DCT+Transfer"}, "KNAE815G": {"model": "셀토스 SP2 (20-22)", "engine": "SP2 D 1.6 TCI 2WD", "trans": "DCT"}, "KNAE815H": {"model": "셀토스 SP2 (20-22)", "engine": "SP2 D 1.6 TCI 4WD", "trans": "DCT+Transfer"}, "KNAE817B": {"model": "셀토스 SP2 (23-26)", "engine": "SP2 G 1.6 T-GDI 2WD", "trans": "AT"}, "KNAE817D": {"model": "셀토스 SP2 (23-26)", "engine": "SP2 G 1.6 T-GDI 4WD", "trans": "AT+Transfer"}, "KNAE81AE": {"model": "셀토스 SP2 (23-26)", "engine": "SP2 G 2.0 MPI 2WD", "trans": "IVT"}, "KNAE81AK": {"model": "셀토스 SP2 (23-26)", "engine": "SP2 G 2.0 MPI 4WD", "trans": "IVT+Transfer"}, "KNAP81BG": {"model": "스포티지 NQ5 (22-23)", "engine": "NQ5 G 1.6 T-GDI 2WD", "trans": "DCT"}, "KNAP81BH": {"model": "스포티지 NQ5 (22-23)", "engine": "NQ5 G 1.6 T-GDI AWD", "trans": "DCT+Transfer"}, "KNAP81CB": {"model": "스포티지 NQ5 (22-24)", "engine": "NQ5 D 2.0 TCI 2WD", "trans": "AT"}, "KNAP81CD": {"model": "스포티지 NQ5 (22-24)", "engine": "NQ5 D 2.0 TCI AWD", "trans": "AT+Transfer"}, "KNAP81JB": {"model": "스포티지 NQ5 (23-25)", "engine": "NQ5 L 2.0 LPI", "trans": "AT"}, "KNAP81BB": {"model": "스포티지 NQ5 (24-25)", "engine": "NQ5 G 1.6 T-GDI 2WD", "trans": "AT"}, "KNAP81BD": {"model": "스포티지 NQ5 (24-25)", "engine": "NQ5 G 1.6 T-GDI 4WD", "trans": "AT+Transfer"}, "KNAP81GB": {"model": "스포티지 NQ5 HEV (22-25)", "engine": "NQ5 HEV 1.6 T-GDI", "trans": "AT"}, "KNAP81GD": {"model": "스포티지 NQ5 HEV (22-25)", "engine": "NQ5 HEV 1.6 T-GDI AWD", "trans": "AT+Transfer"}, "KNAR81FG": {"model": "쏘렌토 MQ4 (20-26)", "engine": "MQ4 G 2.5 T-GDI 2WD", "trans": "DCT"}, "KNAR81FH": {"model": "쏘렌토 MQ4 (20-26)", "engine": "MQ4 G 2.5 T-GDI 4WD", "trans": "DCT+Transfer"}, "KNAR81BG": {"model": "쏘렌토 MQ4 (20-26)", "engine": "MQ4 D 2.2 TCI 2WD", "trans": "DCT"}, "KNAR81BH": {"model": "쏘렌토 MQ4 (20-26)", "engine": "MQ4 D 2.2 TCI 4WD", "trans": "DCT+Transfer"}, "KNAR81GB": {"model": "쏘렌토 MQ4 (20-26)", "engine": "MQ4 HEV 1.6 T-GDI 2WD", "trans": "AT"}, "KNAR81GD": {"model": "쏘렌토 MQ4 (20-26)", "engine": "MQ4 HEV 1.6 T-GDI 4WD", "trans": "AT+Transfer"}, "KNAN813B": {"model": "카니발 KA4 (21-26)", "engine": "KA4 G 3.5 GDI 7, 9인승", "trans": "AT"}, "KNHN373B": {"model": "카니발 KA4 (21-26)", "engine": "KA4 G 3.5 GDI 11인승", "trans": "AT"}, "KNAN81BB": {"model": "카니발 KA4 (21-26)", "engine": "KA4 D 2.2 TCI 7, 9인승", "trans": "AT"}, "KNHN37BB": {"model": "카니발 KA4 (21-26)", "engine": "KA4 D 2.2 TCI 11인승", "trans": "AT"}, "KNAN81AB": {"model": "카니발 KA4 HEV (24-26)", "engine": "KA4 HEV 1.6 T-GDI", "trans": "AT"}, "KNFS9": {"model": "봉고3 EV PU EV (20-25)", "engine": "PU EV 135kW", "trans": ""}, "KNAF81BF": {"model": "EV3 SV1 (25-26)", "engine": "SV1 EV 150kW", "trans": "감속기"}, "KNAF81AF": {"model": "EV3 SV1 (25-26)", "engine": "SV1 EV 150kW 롱레인지", "trans": "감속기"}, "KNAD412F": {"model": "EV4 CT1 2026", "engine": "CT1 EV 150kW", "trans": "감속기"}, "KNAD413F": {"model": "EV4 CT1 2026", "engine": "CT1 EV 150kW 롱레인지", "trans": "감속기"}, "KNAC81BF": {"model": "EV6 CV (22-26)", "engine": "CV EV 160kW 2WD", "trans": "감속기"}, "KNAC81DP": {"model": "EV6 CV (22-26)", "engine": "CV EV 70+160kW 4WD", "trans": "감속기"}, "KNAC81CP": {"model": "EV6 CV (22-26)", "engine": "CV EV 70+160kW 4WD 롱레인지", "trans": "감속기"}, "KNAC81EP": {"model": "EV6 GT (22-26)", "engine": "CV EV 160+270kW 4WD", "trans": "감속기"}, "KNAA812F": {"model": "EV9 MV (24-26)", "engine": "MV EV 160kW 2WD", "trans": "감속기"}, "KNAA811F": {"model": "EV9 MV (24-26)", "engine": "MV EV 160kW 2WD 롱레인지", "trans": "감속기"}, "KNAA815P": {"model": "EV9 MV (24-26)", "engine": "MV EV 160+160kW AWD GT Line", "trans": "감속기"}, "KNAA817F": {"model": "EV9 MV (24-26)", "engine": "MV EV 139+235kW GT", "trans": "감속기"}};
  const YEAR_MAP = {"G": 2016, "H": 2017, "J": 2018, "K": 2019, "L": 2020, "M": 2021, "N": 2022, "P": 2023, "R": 2024, "S": 2025, "T": 2026};

  function normalize(v) {
    return (v||'').toUpperCase().replace(/\s+/g,'').trim();
  }

  function getKeyFromVIN(vin) {
    if (!vin || vin.length < 9) return null;
    // 1-4 + 6-9 (0-indexed: 0..3 and 5..8)
    return vin.slice(0,4) + vin.slice(5,9);
  }

  function decode(vin) {
    vin = normalize(vin);
    if (vin.length !== 17) {
      return { error: "VIN은 17자여야 합니다." };
    }
    const key = getKeyFromVIN(vin);
    const yearCode = vin[9]; // 10번째 문자 (0-index)
    const year = YEAR_MAP[yearCode] || "알 수 없음";

    const hit = TABLE[key];
    if (!hit) {
      return {
        key, year, yearCode,
        warning: "데이터베이스에 일치하는 항목이 없습니다. VIN이 정확한지 확인하세요."
      };
    }
    return { key, year, yearCode, ...hit };
  }

  function render(res) {
    const box = document.getElementById('result');
    if (res.error) {
      box.innerHTML = `<span class="muted">${res.error}</span>`;
      return;
    }
    const parts = [];
    parts.push('<div class="grid">');
    parts.push('<div class="key">매칭 키</div><div><code>'+ (res.key||'-') +'</code></div>');
    parts.push('<div class="key">차종, 년식</div><div>'+ (res.model||'-') +'</div>');
    parts.push('<div class="key">연료타입, 엔진</div><div>'+ (res.engine||'-') +'</div>');
    parts.push('<div class="key">미션</div><div>'+ (res.trans||'-') +'</div>');
    parts.push('<div class="key">모델 연도</div><div>'+ (res.year||"-") +' <span class="muted small">(10번째 코드: '+ (res.yearCode||"-") +')</span></div>');
    parts.push('</div>');
    if (res.warning) {
      parts.push('<div class="hint">⚠️ '+ res.warning +'</div>');
    }
    box.innerHTML = parts.join('');
  }

  document.getElementById('btn').addEventListener('click', () => {
    render(decode(document.getElementById('vin').value));
  });
  document.getElementById('vin').addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      render(decode(document.getElementById('vin').value));
    }
  });

  // Pre-fill with the sample from your Excel if available
  // (extracted from cell B2 via server-side, but we can't access it here; leave blank intentionally)
</script>
</body>
</html>
